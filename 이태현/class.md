## 클래스

### 정의
- 객체(object)를 표현하기 위한 문법
- 클래스의 데이터를 속성(attribute), 클래스의 기능을 메서드(method)라고 한다.  


- 구조
  - 클래스의 이름은 대문자로 시작
```
    # 정의
    class 클래스이름:
        def __init__(self, 매개변수1):
            self.매개변수1 = 매개변수1
        
        def 메서드(self):
            코드
            
    # 선언
    인스턴스 = 클래스()
    
    #속성 사용
    인스턴스.속성
    
    # 메서드 사용
    인스턴스.메서드()
```

- 객체(인스턴스)가 어떤 클래스인지 확인할때
  - type(객체)를 사용한다.
 

- 인스턴스와 객체의 차이점
  - 객체만 지칭할때는 객체, 클래스와 연관지어 말할 때는 인스턴스

- 같은 클래스 내의 메서드를 다른 메서드에서 사용할땐 self.메서드명()으로 사용한다.
  - self. 없이 사용하면 클래스 외부의 메서드를 사용한다는 뜻

``` 
    class Person:
    def greeting(self):
        print('Hello')
 
    def hello(self):
        self.greeting()    # self.메서드() 형식으로 클래스 안의 메서드를 호출
 
james = Person()
james.hello()    # Hello
```

- 객체를 판단할때 사용하는 메서드는 isinstance()를 사용한다.
```
    def factorial(n):
    if not isinstance(n, int) or n < 0:    # n이 정수가 아니거나 음수이면 함수를 끝냄
        return None
    if n == 1:
        return 1
    return n * factorial(n - 1)
```

### 속성 사용하기

- 속성을 만들때는 "\_\_init\_\_" 안에서 self.속성 값에 할당한다.
- 매개변수를 받고싶다면 init 함수에서 적어준다.
```
    class 클래스이름:
        def __init__(self, 매개변수1, 매개변수2):
            self.속성1 = 매개변수1
            self.속성2 = 매개변수2
```

- 인스턴스를 만들 때 호출되는 특별한 메서드
- __ (밑줄 두개)가 붙은 메서드는 파이썬이 자동으로 호출해주는 메서드로 스페셜 메서드 또는 매직 메서드라고 부른다.
- 특정 속성만 허용하고 싶다면 \_\_slots__ 변수에 허용할 변수를 넣어주면 된다.
```
    class 클래스 이름:
        __slot__ = ['속성1', '속성2']
```


### self란?
- 인스턴스 자기 자신을 의미한다.
```
    class Person:
        def __init__(self): # self에 들어가는 값은 Person() 이 들어간다. (객체 선언할때)
            self.hello = "hello"
            
        def greeting(self): # 이때 self에 들어가는 값은 james = Person()에서 james 즉 객체가 들어간다.
            print(self.hello)
```
<img src="https://dojang.io/pluginfile.php/13877/mod_page/content/3/034004.png">

### 비공개 속성
- 클래스 외부에서 사용하지 못하고, 내부에서만 사용할수 있도록 하는 속성
- 속성 앞에 밑줄 두개를 추가해 주면 된다.   
- 비공개 속성을 바꿀 수 있는건 클래스 내부의 메서드로 한정된다.  
- 메서드도 비공개로 바꿀수있다.

- \_\_속성  / \_\_메서드
```
    class 클래스명:
        def __init__(self):
            self.__속성1 = 속성
        
        def __method(self):
            ~~
```

### 클래스 속성과 인스턴스 속성, 클래스 메서드 사용하기
- \_\_init\_\_ 안에 있는 속성은 인스턴스 속성이다.
- 클래스 속성은 바로 속성을 만들면 된다.
- 클래스 속성은 클래스에 속해 있고, 모든 인스턴스에서 공유가 가능하다.
```
    class 클래스이름:
        # 클래스 속성
        속성 = 속성값
        
        def test(self, stuff):
            #클래스 속성 접근 방법
            클래스이름.속성
            
    
    # 외부에서 클래스 속성 사용
    클래스이름.속성
```

- 정적 메서드
  - 메서드 위에 @staticmethod 데코레이터를 붙인다.
  - 클래스명.정적메서드명()으로 바로 실행 가능하다
  - 매개변수에 self를 지정하지 않는다. 따라서 인스턴스 속성을 사용 못한다.
  - 정적 메서드는 메서드의 실행이 외부 상태에 영향을 끼치지 않는 순수 함수(pure function)를 만들 때 사용한다.
   
  

  - 구조
  ```
    class 클래스이름:
        @staticmethod
        def 메서드 이름(매개변수1, 매개변수2):
            코드
    
    # 따로 선언 없이 바로 사용가능
    클래스이름.정적메서드이름(1,3)
  ```
- 클래스 메서드
  - 메서드 위에 @classmethod 데코레이터를 붙인다.
  - 매겨변수 첫번째에 cls를 넣어준다. 이를 통해서 클래스 매서드에 접근이 가능하다.
  - 메서드 안에서 클래스 속성, 클래스 메서드에 접근해야 할때 사용한다.

- 구조
```
    class 클래스이름:
        @classmethod
        def 메서드(cls, 매개변수1, 매개변수2):
            코드
```

### 추상 클래스
- 메서드의 목록만 가진 클래스이며 상속받는 클래스에서 메서드 구현을 강제하기 위해 사용한다.
- 구조
```
    from abc import *
 
    class 추상클래스이름(metaclass=ABCMeta):
        @abstractmethod
        def 메서드이름(self):
            코드
```

## 상속(inheritance)
- 기반 클래스(base class)을 상속 받아 파생 클래스(derived class)에서 기능을 추가할때 사용한다.
- 기반 클래스 : 부모 클래스, 슈퍼 클래스  
  파생 클래스 : 자식 클래스, 서브 클래스
- 클래스 상속은 연관되면서 동등한 기능일때 사용한다.

- 구조
```
    class Baseclass:
        코드
       
    class derivedclass(Baseclass):
        코드
        
    # 상속 관계 확인하기
    issubclass(derivedclass, Bassclass)
```
- 상속관계 : is-a 관계는 상속을 사용
  포함관계 : has-a 관계는 속성에 인스턴스를 넣는 방식으로 사용


- 파생 클래스에서 기반 클래스 인스턴스를 사용하려면 super()메서드 사용해 기반 클래스를 초기화 해줘야한다.
- 파생 클래스에서 \_\_init__ 메서드를 생략하면, 자동적으로 기반클래스의 \_\_init__ 메서드가 호출된다.
```
    class Baseclass:
        def __init__(self):
            코드
       
    class derivedclass(Baseclass):
        def __init__(self):
            super().__init__
```

### 메서드 오버라이딩
- 파생 클래스에서 기반 클래스의 메서드 이름을 똑같이 사용해서 덮어 씌우는것
- super().base_class_method() 를 사용하면 파생 클래스에서도 기반 클래스 메서드 사용 가능

### 다중상속
```
    class 기반클래스이름1:
        코드
 
    class 기반클래스이름2:
        코드
     
    class 파생클래스이름(기반클래스이름1, 기반클래스이름2):
        코드
```
- 파생 클래스에서 여러 기반 클래스를 상속받는것을 말한다.
- 다이아몬드 상속처럼 모호한 호출이 일어나지 않도록 조심해야한다.
  - 파이썬에서는 이를 해결하기 위해 메서드 탐색 순서(MRO)를 따른다.

- object클래스는 모든 클래스의 조상이다!